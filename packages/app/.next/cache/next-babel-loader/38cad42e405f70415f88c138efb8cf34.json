{"ast":null,"code":"var _jsxFileName = \"/Users/christiancromnow/Repos/arbeit/packages/app/src/contexts/Auth/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component, createContext, useState } from 'react';\nimport axios from 'axios';\nconst AuthContext = createContext({\n  user: null,\n  token: '',\n  login: () => {},\n  logout: () => {}\n});\nconst serverUrl = 'http://localhost:3001';\n\nclass AuthProvider extends Component {\n  login() {\n    const self = this;\n    axios.get(serverUrl + '/api/login').then(({\n      data: {\n        token\n      }\n    }) => {\n      self.setState({\n        token: token\n      });\n    });\n  }\n\n  logout() {\n    console.log('woop');\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      token: '',\n      login: this.login,\n      logout: this.logout\n    };\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    return __jsx(AuthContext.Provider, {\n      value: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    }, children);\n  }\n\n}\n\nexport const AuthConsumer = AuthContext.Consumer;\nexport default AuthProvider;","map":{"version":3,"sources":["/Users/christiancromnow/Repos/arbeit/packages/app/src/contexts/Auth/index.js"],"names":["Component","createContext","useState","axios","AuthContext","user","token","login","logout","serverUrl","AuthProvider","self","get","then","data","setState","console","log","constructor","props","state","bind","render","children","AuthConsumer","Consumer"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,aAApB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,WAAW,GAAGH,aAAa,CAAC;AAChCI,EAAAA,IAAI,EAAE,IAD0B;AAEhCC,EAAAA,KAAK,EAAE,EAFyB;AAGhCC,EAAAA,KAAK,EAAE,MAAM,CAAE,CAHiB;AAIhCC,EAAAA,MAAM,EAAE,MAAM,CAAE;AAJgB,CAAD,CAAjC;AAOA,MAAMC,SAAS,GAAG,uBAAlB;;AAEA,MAAMC,YAAN,SAA2BV,SAA3B,CAAqC;AACnCO,EAAAA,KAAK,GAAG;AACN,UAAMI,IAAI,GAAG,IAAb;AACAR,IAAAA,KAAK,CAACS,GAAN,CAAUH,SAAS,GAAG,YAAtB,EAAoCI,IAApC,CAAyC,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAER,QAAAA;AAAF;AAAR,KAAD,KAAwB;AAC/DK,MAAAA,IAAI,CAACI,QAAL,CAAc;AAAET,QAAAA,KAAK,EAAEA;AAAT,OAAd;AACD,KAFD;AAGD;;AAEDE,EAAAA,MAAM,GAAG;AACPQ,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD;;AAEDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXf,MAAAA,IAAI,EAAE,IADK;AAEXC,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,KAAK,EAAE,KAAKA,KAHD;AAIXC,MAAAA,MAAM,EAAE,KAAKA;AAJF,KAAb;AAOA,SAAKD,KAAL,GAAa,KAAKA,KAAL,CAAWc,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKb,MAAL,GAAc,KAAKA,MAAL,CAAYa,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKJ,KAA1B;AACA,WAAO,MAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAE,KAAKC,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACHG,QADG,CAAP;AAGD;;AA9BkC;;AAiCrC,OAAO,MAAMC,YAAY,GAAGpB,WAAW,CAACqB,QAAjC;AACP,eAAef,YAAf","sourcesContent":["import { Component, createContext, useState } from 'react';\nimport axios from 'axios';\n\nconst AuthContext = createContext({ \n  user: null, \n  token: '',\n  login: () => {},\n  logout: () => {}\n});\n\nconst serverUrl = 'http://localhost:3001';\n\nclass AuthProvider extends Component {\n  login() {\n    const self = this;\n    axios.get(serverUrl + '/api/login').then(({ data: { token }}) => {\n      self.setState({ token: token })\n    });\n  }\n  \n  logout() {\n    console.log('woop');\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      token: '',\n      login: this.login,\n      logout: this.logout,\n    }\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  render() {\n    const { children } = this.props;\n    return <AuthContext.Provider value={this.state}>\n      { children }  \n    </AuthContext.Provider>\n  }\n}\n\nexport const AuthConsumer = AuthContext.Consumer;\nexport default AuthProvider;"]},"metadata":{},"sourceType":"module"}